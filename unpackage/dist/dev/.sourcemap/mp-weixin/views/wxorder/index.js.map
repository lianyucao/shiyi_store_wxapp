{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/shiyi-store-weapp/views/wxorder/index.vue?6643","webpack:///C:/Users/Administrator/Desktop/shiyi-store-weapp/views/wxorder/index.vue?2fb8","webpack:///C:/Users/Administrator/Desktop/shiyi-store-weapp/views/wxorder/index.vue?dff7","webpack:///C:/Users/Administrator/Desktop/shiyi-store-weapp/views/wxorder/index.vue?7831","uni-app:///views/wxorder/index.vue"],"names":["createPage","Page"],"mappings":"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","file":"views/wxorder/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './views/wxorder/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=082a545e&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"views/wxorder/index.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=082a545e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"h-80 flex align-center padding-l-15\" style=\"background: #13C2C2;\">\r\n\t\t\t<image class=\"wh-23 margin-r-10\" src=\"http://shiyi.cg500.com/uploads/wxapp/wait.png\" mode=\"\"></image>\r\n\t\t\t<text class=\"text-16 text-white text-bold\">{{orderinfo.status > 2 ?orderinfo.status>4? orderinfo.status>5?'订单已结束':'订单审核中':\"用户已付款,请上传维修凭证\" :'用户已到店,请报价'}}</text>\r\n\t\t</view>\r\n\t\t<view class=\"\">\r\n\t\t\t<serve-card :datalist=\"datelist\"></serve-card>\r\n\t\t\t<!-- <view class=\"h-55 bg-white text-16 flex align-center padding-15 solid-bottom\">\r\n\t\t\t\t<text class=\"margin-r-20\" style=\"color: #0F1826;\">存放商品</text>\r\n\t\t\t\t<text style=\"color: #0F1826;\" v-for=\"(item,index) in 3\" :key=\"index\">商品{{index}};</text>\r\n\t\t\t</view> -->\r\n\t\t\t<view class=\"h-55 bg-white text-16 flex align-center padding-15 solid-bottom\">\r\n\t\t\t\t<text class=\"margin-r-17\" style=\"color: #0F1826;\">{{orderinfo.status == 1?'门店报价':'实付款'}}</text>\r\n\t\t\t\t<input class=\"w-70s\" type=\"text\" value=\"\" placeholder=\"请输入实付款金额\" v-model=\"payment\" :disabled=\"orderinfo.totalprice?true:false\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"bg-white margin-t-10\">\r\n\t\t\t<view class=\"solid-bottom h-55 padding-15 flex align-center text-16\" style=\"color: #0F1826;\">订单信息</view>\r\n\t\t\t<view class=\"solid-bottom padding-l-15 text-16\" style=\"color: #0F1826;\">\r\n\t\t\t\t<view class=\"h-55 flex align-center\">\r\n\t\t\t\t\t<text class=\"margin-r-20\">订单编号</text>\r\n\t\t\t\t\t<text>{{orderinfo.ordersn}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"h-55 flex align-center\">\r\n\t\t\t\t\t<text class=\"margin-r-20\">服务时间</text>\r\n\t\t\t\t\t<text>{{orderinfo.servicetime}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"solid-bottom h-55 padding-15 text-16 flex align-center\" style=\"color: #0F1826;\">\r\n\t\t\t\t<text class=\"margin-r-20\">订单备注</text>\r\n\t\t\t\t<text>{{orderinfo.remark}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"margin-t-9 padding-b-55\">\r\n\t\t\t<view class=\"min-h190 bg-white solid-bottom\" style=\"padding: 17px 15px 0 15px;\">\r\n\t\t\t\t<view class=\"text-16\" style=\"color: #0F1826;\">维修前</view>\r\n\t\t\t\t<view class=\"margin-t-15\">\r\n\t\t\t\t\t<view class=\"flex align-center justify-between\" v-if=\"orderinfo.storeimgs.length > 0\">\r\n\t\t\t\t\t\t<image class=\"wh-120\" style=\"border-radius: 5px;\" :src=\"item\" mode=\"\" v-for=\"(item,index) in orderinfo.storeimgs\"\r\n\t\t\t\t\t\t :key=\"index\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-form-group\" style=\"padding: 0;\" v-else>\r\n\t\t\t\t\t\t<view class=\"grid col-3 grid-square flex-sub\">\r\n\t\t\t\t\t\t\t<view class=\"bg-img\" v-for=\"(item,index) in imgList\" :key=\"index\" @tap=\"ViewImage\" :data-url=\"imgList[index]\">\r\n\t\t\t\t\t\t\t\t<image :src=\"imgList[index]\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"pos-abs text-white\" style=\"display: inline-block;right: 0;top:0\" @tap.stop=\"DelImg\" :data-index=\"index\">\r\n\t\t\t\t\t\t\t\t\t<text class='cuIcon-roundclose bg-red' style=\"border-radius: 50%;\"></text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"solids\" @tap=\"showModal($event,'normal')\" data-target=\"Modal\" v-if=\"imgList.length < 3\">\r\n\t\t\t\t\t\t\t\t<text class='cuIcon-add'></text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"min-h190 bg-white solid-bottom\" style=\"padding: 17px 15px 0 15px;\" v-if=\"orderinfo.status != 1\">\r\n\t\t\t\t<view class=\"text-16\" style=\"color: #0F1826;\">维修后</view>\r\n\t\t\t\t<view class=\"margin-t-15\">\r\n\t\t\t\t\t<view class=\"flex align-center justify-between\" v-if=\"orderinfo.endimgs.length > 0\">\r\n\t\t\t\t\t\t<image class=\"wh-120\" style=\"border-radius: 5px;\" :src=\"item\" mode=\"\" v-for=\"(item,index) in orderinfo.endimgs\"\r\n\t\t\t\t\t\t :key=\"index\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-form-group\" style=\"padding: 0;\" v-else>\r\n\t\t\t\t\t\t<view class=\"grid col-3 grid-square flex-sub\">\r\n\t\t\t\t\t\t\t<view class=\"bg-img\" v-for=\"(item,index) in afterList\" :key=\"index\" @tap=\"ViewImage($event,'card')\" :data-url=\"afterList[index]\">\r\n\t\t\t\t\t\t\t\t<image :src=\"afterList[index]\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"pos-abs text-white\" style=\"display: inline-block;right: 0;top:0\" @tap.stop=\"DelImg($event,'card')\"\r\n\t\t\t\t\t\t\t\t :data-index=\"index\">\r\n\t\t\t\t\t\t\t\t\t<text class='cuIcon-roundclose bg-red' style=\"border-radius: 50%;\"></text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"solids\" @tap=\"showModal($event,'card')\" data-target=\"Modal\" v-if=\"afterList.length < 3\">\r\n\t\t\t\t\t\t\t\t<text class='cuIcon-add'></text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<button class=\"cu-btn lg w-100s text-white pos-fix bottom-0\" style=\"height: 55px;background: #5170FF;font-size: 16px;border-radius: 0;\"\r\n\t\t @tap=\"submit\">{{orderinfo.status > 4 ?'确认':'确认提交'}}</button>\r\n\r\n\t\t<view class=\"cu-modal bottom-modal\" :class=\"modalName=='Modal'?'show':''\" @tap=\"hideModal\">\r\n\t\t\t<view class=\"cu-dialog\" @tap.stop=\"\" style=\"border-radius:8px 8px 0px 0px;\">\r\n\t\t\t\t<view class=\"bg-white h-57 lh-57 solid-bottom\" @tap=\"ChooseImage(type,'camera')\">\r\n\t\t\t\t\t<text class=\"text-18\" style=\"color: #333333;\">拍照</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"bg-white h-57 lh-57 solid-bottom\" @tap=\"ChooseImage(type,'album')\">\r\n\t\t\t\t\t<text class=\"text-18\" style=\"color: #333333;\">相册</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"bg-white h-57 lh-57 solid-bottom margin-t-8\" @tap=\"hideModal\">\r\n\t\t\t\t\t<text class=\"text-18\" style=\"color: #333333;\">取消</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport ServeCard from '../../components/serveCard/index.vue'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdatelist: {\r\n\t\t\t\t\t// title: '郑秋',\r\n\t\t\t\t\t// imgUrl: '/static/img/logo.png',\r\n\t\t\t\t\t// telphone: '14193689116',\r\n\t\t\t\t\t// haveserver: true,\r\n\t\t\t\t\t// havebtn: true,\r\n\t\t\t\t\t// showbtn: false,\r\n\t\t\t\t\t// serverlist: ['洗车', '贴膜'],\r\n\t\t\t\t\t// havebtncarNumber: '辽A123456',\r\n\t\t\t\t},\r\n\t\t\t\timgList: [],\r\n\t\t\t\tupimgList: [],\r\n\t\t\t\tafterList: [],\r\n\t\t\t\tupafterList: [],\r\n\t\t\t\tpayment: '',\r\n\t\t\t\tmodalName: null,\r\n\t\t\t\ttype: '',\r\n\t\t\t\torderinfo: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.getList(option.id)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tViewImage(e, type) {\r\n\t\t\t\tif (type == 'card') {\r\n\t\t\t\t\tuni.previewImage({\r\n\t\t\t\t\t\turls: this.afterList,\r\n\t\t\t\t\t\tcurrent: e.currentTarget.dataset.url\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.previewImage({\r\n\t\t\t\t\t\turls: this.imgList,\r\n\t\t\t\t\t\tcurrent: e.currentTarget.dataset.url\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tDelImg(e, type) {\r\n\t\t\t\tif (type == 'card') {\r\n\t\t\t\t\tthis.afterList.splice(e.currentTarget.dataset.index, 1)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.imgList.splice(e.currentTarget.dataset.index, 1)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tChooseImage(type, sourcetype) {\r\n\t\t\t\tif (type == 'card') {\r\n\t\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\t\tcount: 1, //默认9\r\n\t\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\t\tsourceType: [sourcetype],\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tif (this.afterList.length != 0) {\r\n\t\t\t\t\t\t\t\tthis.afterList = this.afterList.concat(res.tempFilePaths)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.afterList = res.tempFilePaths\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.modalName = null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\t\tcount: 1, //默认9\r\n\t\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\t\tsourceType: [sourcetype],\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tif (this.imgList.length != 0) {\r\n\t\t\t\t\t\t\t\tthis.imgList = this.imgList.concat(res.tempFilePaths)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.imgList = res.tempFilePaths\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.modalName = null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshowModal(e, type) {\r\n\t\t\t\tthis.modalName = e.currentTarget.dataset.target\r\n\t\t\t\tthis.type = type\r\n\t\t\t},\r\n\t\t\thideModal(e) {\r\n\t\t\t\tthis.modalName = null\r\n\t\t\t},\r\n\t\t\tgetList(id) {\r\n\t\t\t\tthis.$api.send({\r\n\t\t\t\t\turl: \"/malldetail\",\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.datelist = {\r\n\t\t\t\t\t\t\t\ttitle: res.data.uname,\r\n\t\t\t\t\t\t\t\timgUrl: res.data.car_img,\r\n\t\t\t\t\t\t\t\ttelphone: res.data.uphone,\r\n\t\t\t\t\t\t\t\thaveserver: true,\r\n\t\t\t\t\t\t\t\thavebtn: true,\r\n\t\t\t\t\t\t\t\tshowbtn: false,\r\n\t\t\t\t\t\t\t\tserverlist: [res.data.servicename],\r\n\t\t\t\t\t\t\t\thavebtncarNumber: res.data.car_code,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.orderinfo = res.data\r\n\t\t\t\t\t\t\tif (res.data.totalprice) {\r\n\t\t\t\t\t\t\t\tthis.payment = res.data.totalprice\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsubmit() {\r\n\t\t\t\tif (this.payment == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\ttitle: \"请输入服务报价\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.orderinfo.status == 1) {\r\n\t\t\t\t\tif (this.imgList.length < 3) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\ttitle: \"请至少上传三张维修前照片\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (var i = 0; i < this.imgList.length; i++) {\r\n\t\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\t\turl: 'https://shiyi.cg500.com/admin/interfaces/upload',\r\n\t\t\t\t\t\t\t\tfilePath: this.imgList[i],\r\n\t\t\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t\"Content-Type\": \"multipart/form-data\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tif (res.statusCode == 200) {\r\n\t\t\t\t\t\t\t\t\t\tif (res.data != '400') {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.upimgList.push(res.data)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tif (this.imgList.length != this.upimgList.length) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\t\ttitle: \"图片格式不符,请检查后重新上传\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthis.imgList = []\r\n\t\t\t\t\t\t\t\tthis.upimgList = []\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$api.send({\r\n\t\t\t\t\t\t\t\t\turl: \"/mallsave\",\r\n\t\t\t\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tid: this.orderinfo.id,\r\n\t\t\t\t\t\t\t\t\t\tprice: this.payment,\r\n\t\t\t\t\t\t\t\t\t\tstoreimgs: this.upimgList\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"提交成功\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.orderinfo.status == 4) {\r\n\t\t\t\t\tif (this.afterList.length < 3) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\ttitle: \"请至少上传三张维修后照片\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (var i = 0; i < this.afterList.length; i++) {\r\n\t\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\t\turl: 'https://shiyi.cg500.com/admin/interfaces/upload',\r\n\t\t\t\t\t\t\t\tfilePath: this.afterList[i],\r\n\t\t\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t\"Content-Type\": \"multipart/form-data\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tif (res.statusCode == 200) {\r\n\t\t\t\t\t\t\t\t\t\tif (res.data != '400') {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.upafterList.push(res.data)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tif (this.afterList.length != this.upafterList.length) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\t\ttitle: \"图片格式不符,请检查后重新上传\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthis.afterList = []\r\n\t\t\t\t\t\t\t\tthis.upafterList = []\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$api.send({\r\n\t\t\t\t\t\t\t\t\turl: \"/mallsave\",\r\n\t\t\t\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tid: this.orderinfo.id,\r\n\t\t\t\t\t\t\t\t\t\tendimgs: this.upafterList\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"提交成功\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tServeCard\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"],"sourceRoot":""}